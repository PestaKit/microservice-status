<div class="md-padding" flex layout-sm="column">
	<md-card class="text-center">
		<md-card-content>
			<h1>{{ vm.title }}</h1>
			<h3>{{ vm.version }}</h3>

			<div ng-class="vm.statusAll">
				<div id="status">
					<div ng-switch="vm.statusAll">
						<div ng-switch-when="all_good">
							All services up and running
						</div>
						<div ng-switch-when="all_error">
							Some services are down or under maintenance !
						</div>
						<div ng-switch-when="all_error_api">
							The services api is not reachable !
						</div>
					</div>
				</div>

				<div id="last_updated">
					Updated {{vm.lastUpdated}} seconds ago
				</div>
			</div>


			<div id="overview">
				<div id="active_incidents">
					<div class="big">{{vm.downService}}</div>
					<div class="label">Down Services</div>
				</div>

				<div id="active_maintenance">
					<div class="big">{{vm.activeMaintenances}}</div>
					<div class="label">Active maintenances</div>
				</div>

				<div id="days_since_last_incident">
					<div class="big">{{vm.upService}}</div>
					<div class="label">Up Services</div>
				</div>
			</div>
			<div ng-repeat="service in vm.services">
				<div class="service">
					<div class="sub_service">
						<div class="service_name">{{service.name}}</div>
						<div ng-class="service.state">
							{{service.state}}
						</div>
					</div>
					<div class="sub_service">
						<div class="service_info">Contact name : {{service.contact}}</div>
						<div class="service_info">Self : {{service.self}}</div>
						<div class="service_info">URL : {{service.statusAddress}}</div>
						<div class="service_info">Port : {{service.statusPort}}</div>
						<div ng-if="service.statusAddress && service.statusPort">
							<div class="service_info">Automatically checked : true</div>
						</div>
						<div ng-if="!(service.statusAddress && service.statusPort)">
							<div class="service_info">Automatically checked : false</div>
						</div>
					</div>
				</div>
			</div>
		</md-card-content>
	</md-card>
</div>
